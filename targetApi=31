[33mcommit 18fdca81ea2ba277a2da27cc98572f629b44fa57[m
Author: SofiyaBaranouskaya <sofi220307@gmail.com>
Date:   Fri Dec 27 16:48:06 2024 +0300

    Craetion, opening, showing etc with albums was made

[1mdiff --git a/FeedReader.db b/FeedReader.db[m
[1mindex 689439d..c2ae396 100644[m
Binary files a/FeedReader.db and b/FeedReader.db differ
[1mdiff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml[m
[1mindex 2042725..7f150fd 100644[m
[1m--- a/app/src/main/AndroidManifest.xml[m
[1m+++ b/app/src/main/AndroidManifest.xml[m
[36m@@ -15,9 +15,11 @@[m
         android:theme="@style/Theme.PhotoGallery"[m
         tools:targetApi="31">[m
         <activity[m
[31m-            android:name=".PhotoDetailActivity"[m
[32m+[m[32m            android:name=".Activities.SelectPhotosActivity"[m
             android:exported="false" />[m
[31m-        <!-- <activity -->[m
[32m+[m[32m        <activity[m
[32m+[m[32m            android:name=".Activities.PhotoDetailActivity"[m
[32m+[m[32m            android:exported="false" /> <!-- <activity -->[m
         <!-- android:name=".Activities.ImagePickerActivity" -->[m
         <!-- android:exported="false" /> -->[m
         <activity[m
[36m@@ -36,6 +38,7 @@[m
             </intent-filter>[m
         </activity>[m
         <activity android:name=".AlbumsActivity" />[m
[32m+[m
         <provider[m
             android:name="androidx.core.content.FileProvider"[m
             android:authorities="${applicationId}.fileprovider"[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Activities/AlbumsActivity.kt b/app/src/main/java/com/safiya/photogallery/Activities/AlbumsActivity.kt[m
[1mindex e77a6af..1f5d29f 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Activities/AlbumsActivity.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Activities/AlbumsActivity.kt[m
[36m@@ -16,6 +16,7 @@[m [mclass AlbumsActivity : AppCompatActivity() {[m
 [m
     private lateinit var recyclerView: RecyclerView[m
     private lateinit var albumAdapter: AlbumAdapter[m
[32m+[m[32m    private lateinit var albumRepository: AlbumRepository[m
 [m
     override fun onCreate(savedInstanceState: Bundle?) {[m
         super.onCreate(savedInstanceState)[m
[36m@@ -64,15 +65,15 @@[m [mclass AlbumsActivity : AppCompatActivity() {[m
         recyclerView = findViewById(R.id.recyclerViewAlbums)[m
         recyclerView.layoutManager = GridLayoutManager(this, 2) // 2 –∫–æ–ª–æ–Ω–∫–∏[m
 [m
[31m-        // –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–ª—å–±–æ–º–æ–≤ (–ø—Ä–∏–º–µ—Ä)[m
[31m-        val albums = listOf([m
[31m-            Album("–ù–∞–∑–≤–∞–Ω–∏–µ 1", "01.01.2023", R.drawable.album1), // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã[m
[31m-            Album("–ù–∞–∑–≤–∞–Ω–∏–µ 2", "02.01.2023", R.drawable.album2),[m
[31m-            Album("–ù–∞–∑–≤–∞–Ω–∏–µ 3", "03.01.2023", R.drawable.album3),[m
[31m-            Album("–ù–∞–∑–≤–∞–Ω–∏–µ 4", "04.01.2023", R.drawable.album4),[m
[31m-            Album("–ù–∞–∑–≤–∞–Ω–∏–µ 5", "02.01.2023", R.drawable.photo1),[m
[31m-            Album("–ù–∞–∑–≤–∞–Ω–∏–µ 6", "03.01.2023", R.drawable.photo2)[m
[31m-        )[m
[32m+[m[32m        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è[m
[32m+[m[32m        albumRepository = AlbumRepository(FeedReaderDbHelper(this))[m
[32m+[m
[32m+[m[32m        // –ü–æ–ª—É—á–∞–µ–º –∞–ª—å–±–æ–º—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö[m
[32m+[m[32m        val albums = albumRepository.getAllAlbums().map { album ->[m
[32m+[m[32m            // –ò—Å–ø–æ–ª—å–∑—É–µ–º photo1 –∫–∞–∫ –∑–∞—Å—Ç–∞–≤–∫—É –¥–ª—è –≤—Å–µ—Ö –∞–ª—å–±–æ–º–æ–≤[m
[32m+[m[32m            album.copy(imageIds = listOf(R.drawable.photo1.toLong())) // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ Long[m
[32m+[m
[32m+[m[32m        }[m
 [m
         // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–∞–ø—Ç–µ—Ä–∞[m
         albumAdapter = AlbumAdapter(this, albums) { album -> // –ü–µ—Ä–µ–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Activities/MainActivity.kt b/app/src/main/java/com/safiya/photogallery/Activities/MainActivity.kt[m
[1mindex f45930d..4997f35 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Activities/MainActivity.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Activities/MainActivity.kt[m
[36m@@ -21,6 +21,7 @@[m [mimport androidx.core.view.ViewCompat[m
 import androidx.core.view.WindowInsetsCompat[m
 import androidx.recyclerview.widget.GridLayoutManager[m
 import androidx.recyclerview.widget.RecyclerView[m
[32m+[m[32mimport com.safiya.photogallery.Activities.SelectPhotosActivity[m
 import java.io.File[m
 import java.io.FileOutputStream[m
 import java.text.SimpleDateFormat[m
[36m@@ -116,7 +117,8 @@[m [mclass MainActivity : AppCompatActivity() {[m
             when (which) {[m
                 0 -> openCamera()[m
                 1 -> {[m
[31m-                    // –õ–æ–≥–∏–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–ª—å–±–æ–º–∞[m
[32m+[m[32m                    // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π[m
[32m+[m[32m                    startActivity(Intent(this, SelectPhotosActivity::class.java))[m
                 }[m
             }[m
         }[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Activities/OpenedAlbumActivity.kt b/app/src/main/java/com/safiya/photogallery/Activities/OpenedAlbumActivity.kt[m
[1mindex 00c0185..bdbac79 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Activities/OpenedAlbumActivity.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Activities/OpenedAlbumActivity.kt[m
[36m@@ -12,17 +12,17 @@[m [mimport androidx.recyclerview.widget.RecyclerView[m
 class OpenedAlbumActivity : AppCompatActivity() {[m
 [m
     private lateinit var recyclerView: RecyclerView[m
[31m-    private lateinit var photosAdapter: PhotoAdapter // –í–∞—à –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π[m
[32m+[m[32m    private lateinit var photosAdapter: PhotoAdapter[m
     private lateinit var noPhotosText: TextView[m
     private lateinit var backButton: ImageView[m
     private lateinit var albumTitle: TextView[m
     private lateinit var albumDate: TextView[m
[32m+[m[32m    private lateinit var albumRepository: AlbumRepository[m
 [m
     override fun onCreate(savedInstanceState: Bundle?) {[m
         super.onCreate(savedInstanceState)[m
[31m-        setContentView(R.layout.activity_opened_album) // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è –º–∞–∫–µ—Ç–∞ –≤–µ—Ä–Ω–æ–µ[m
[32m+[m[32m        setContentView(R.layout.activity_opened_album)[m
 [m
[31m-        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞[m
         recyclerView = findViewById(R.id.recyclerViewPhotos)[m
         noPhotosText = findViewById(R.id.noPhotosText)[m
         backButton = findViewById(R.id.backButton)[m
[36m@@ -31,32 +31,47 @@[m [mclass OpenedAlbumActivity : AppCompatActivity() {[m
 [m
         // –ü–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∞–ª—å–±–æ–º–∞ –∏–∑ Intent[m
         val album = intent.getParcelableExtra<Album>("ALBUM")[m
[31m-        albumTitle.text = album?.title // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–ª—å–±–æ–º–∞[m
[31m-        albumDate.text = album?.date // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞—Ç—É –∞–ª—å–±–æ–º–∞[m
[32m+[m[32m        albumTitle.text = album?.title[m
[32m+[m[32m        albumDate.text = album?.createdAt[m
 [m
[31m-        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RecyclerView[m
         recyclerView.layoutManager = GridLayoutManager(this, 3)[m
[32m+[m[32m        albumRepository = AlbumRepository(FeedReaderDbHelper(this)) // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è[m
[32m+[m
[32m+[m[32m        // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ Photo –¥–ª—è –∞–ª—å–±–æ–º–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –¥–∞—Ç–µ[m
[32m+[m[32m        album?.let {[m
[32m+[m[32m            val photos = fetchPhotosForAlbum(it)[m
[32m+[m
[32m+[m[32m            if (photos.isEmpty()) {[m
[32m+[m[32m                noPhotosText.visibility = View.VISIBLE[m
[32m+[m[32m                recyclerView.visibility = View.GONE[m
[32m+[m[32m            } else {[m
[32m+[m[32m                noPhotosText.visibility = View.GONE[m
[32m+[m[32m                recyclerView.visibility = View.VISIBLE[m
[32m+[m
[32m+[m[32m                photosAdapter = PhotoAdapter(this, photos.toMutableList()) {[m
[32m+[m[32m                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–¥–∞–ø—Ç–µ—Ä –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ (–µ—Å–ª–∏ —ç—Ç–æ –Ω—É–∂–Ω–æ)[m
[32m+[m[32m                    photosAdapter.updateData(fetchPhotosForAlbum(it))[m
[32m+[m[32m                }[m
[32m+[m[32m                recyclerView.adapter = photosAdapter[m
[32m+[m[32m            }[m
[32m+[m[32m        } ?: run {[m
[32m+[m[32m            noPhotosText.visibility = View.VISIBLE[m
[32m+[m[32m            recyclerView.visibility = View.GONE[m
[32m+[m[32m        }[m
 [m
[31m-        // –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π[m
[31m-        val photos = getPhotosForAlbum(album) // –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤[m
[31m-[m
[31m-//        // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π[m
[31m-//        if (photos.isEmpty()) {[m
[31m-//            noPhotosText.visibility = View.VISIBLE[m
[31m-//        } else {[m
[31m-//            noPhotosText.visibility = View.GONE[m
[31m-//            photosAdapter = PhotoAdapter(this, photos) // –ü–µ—Ä–µ–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤[m
[31m-//            recyclerView.adapter = photosAdapter[m
[31m-//        }[m
[31m-//[m
[31m-        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"[m
         backButton.setOnClickListener {[m
[31m-            finish() // –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π[m
[32m+[m[32m            finish()[m
         }[m
     }[m
 [m
[31m-    private fun getPhotosForAlbum(album: Album?): List<Int> {[m
[31m-        // –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∞–ª—å–±–æ–º–∞[m
[31m-        return listOf(R.drawable.photo1, R.drawable.photo2, R.drawable.photo3) // –ü—Ä–∏–º–µ—Ä —Å–ø–∏—Å–∫–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤[m
[32m+[m[32m    private fun fetchPhotosForAlbum(album: Album): List<Photo> {[m
[32m+[m[32m        // –ò—â–µ–º –∞–ª—å–±–æ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è[m
[32m+[m[32m        val allAlbums = albumRepository.getAllAlbums()[m
[32m+[m[32m        val matchedAlbum = allAlbums.find {[m
[32m+[m[32m            it.title == album.title && it.createdAt == album.createdAt[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ï—Å–ª–∏ –∞–ª—å–±–æ–º –Ω–∞–π–¥–µ–Ω, –ø–æ–ª—É—á–∞–µ–º –µ–≥–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏[m
[32m+[m[32m        return matchedAlbum?.let { albumRepository.getPhotosForAlbum(it) } ?: emptyList()[m
     }[m
 }[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/PhotoDetailActivity.kt b/app/src/main/java/com/safiya/photogallery/Activities/PhotoDetailActivity.kt[m
[1msimilarity index 93%[m
[1mrename from app/src/main/java/com/safiya/photogallery/PhotoDetailActivity.kt[m
[1mrename to app/src/main/java/com/safiya/photogallery/Activities/PhotoDetailActivity.kt[m
[1mindex a319ce8..ad3c898 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/PhotoDetailActivity.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Activities/PhotoDetailActivity.kt[m
[36m@@ -1,10 +1,11 @@[m
[31m-package com.safiya.photogallery[m
[32m+[m[32mpackage com.safiya.photogallery.Activities[m
 [m
 import android.graphics.BitmapFactory[m
[31m-import android.net.Uri[m
 import android.os.Bundle[m
 import android.widget.ImageView[m
 import androidx.appcompat.app.AppCompatActivity[m
[32m+[m[32mimport com.safiya.photogallery.Photo[m
[32m+[m[32mimport com.safiya.photogallery.R[m
 [m
 class PhotoDetailActivity : AppCompatActivity() {[m
 [m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Activities/SelectPhotosActivity.kt b/app/src/main/java/com/safiya/photogallery/Activities/SelectPhotosActivity.kt[m
[1mnew file mode 100644[m
[1mindex 0000000..4e7177f[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Activities/SelectPhotosActivity.kt[m
[36m@@ -0,0 +1,101 @@[m
[32m+[m[32mpackage com.safiya.photogallery.Activities[m
[32m+[m
[32m+[m[32mimport Album[m
[32m+[m[32mimport android.content.Intent[m
[32m+[m[32mimport android.os.Bundle[m
[32m+[m[32mimport android.provider.Settings[m
[32m+[m[32mimport android.util.Log[m
[32m+[m[32mimport android.widget.EditText[m
[32m+[m[32mimport android.widget.Button[m
[32m+[m[32mimport androidx.activity.enableEdgeToEdge[m
[32m+[m[32mimport androidx.appcompat.app.AppCompatActivity[m
[32m+[m[32mimport androidx.core.view.ViewCompat[m
[32m+[m[32mimport androidx.core.view.WindowInsetsCompat[m
[32m+[m[32mimport androidx.recyclerview.widget.GridLayoutManager[m
[32m+[m[32mimport androidx.recyclerview.widget.RecyclerView[m
[32m+[m[32mimport com.safiya.photogallery.Photo[m
[32m+[m[32mimport com.safiya.photogallery.CustomPhotoAdapter[m
[32m+[m[32mimport com.safiya.photogallery.AlbumRepository[m
[32m+[m[32mimport com.safiya.photogallery.AlbumsActivity[m
[32m+[m[32mimport com.safiya.photogallery.R[m
[32m+[m[32mimport com.safiya.photogallery.FeedReaderDbHelper[m
[32m+[m[32mimport com.safiya.photogallery.PhotoRepository[m
[32m+[m
[32m+[m[32mclass SelectPhotosActivity : AppCompatActivity() {[m
[32m+[m
[32m+[m[32m    private lateinit var recyclerView: RecyclerView[m
[32m+[m[32m    private lateinit var photoAdapter: CustomPhotoAdapter[m
[32m+[m[32m    private lateinit var albumRepository: AlbumRepository[m
[32m+[m[32m    private lateinit var photoRepository: PhotoRepository[m
[32m+[m
[32m+[m[32m    override fun onCreate(savedInstanceState: Bundle?) {[m
[32m+[m[32m        super.onCreate(savedInstanceState)[m
[32m+[m[32m        enableEdgeToEdge()[m
[32m+[m[32m        setContentView(R.layout.activity_select_photos)[m
[32m+[m
[32m+[m[32m        recyclerView = findViewById(R.id.recycler_view_photos)[m
[32m+[m[32m        recyclerView.layoutManager = GridLayoutManager(this, 3)[m
[32m+[m
[32m+[m[32m        albumRepository = AlbumRepository(FeedReaderDbHelper(this))[m
[32m+[m[32m        photoRepository = PhotoRepository(FeedReaderDbHelper(this))[m
[32m+[m
[32m+[m[32m        // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏[m
[32m+[m[32m        val photoList = photoRepository.getAllPhotos()[m
[32m+[m[32m        Log.d("SelectPhotosActivity", "Loaded photos: ${photoList.size}")[m
[32m+[m
[32m+[m[32m        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞[m
[32m+[m[32m        photoAdapter = CustomPhotoAdapter(this, photoList.toMutableList()) { photo ->[m
[32m+[m[32m            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏[m
[32m+[m[32m            Log.d("SelectPhotosActivity", "Photo selected: ${photo.id}, selected: ${photo.isSelected}")[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        recyclerView.adapter = photoAdapter[m
[32m+[m
[32m+[m[32m        findViewById<Button>(R.id.save_album_button).setOnClickListener {[m
[32m+[m[32m            Log.d("SelectPhotosActivity", "Save button clicked")[m
[32m+[m[32m            saveAlbum()[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    private fun saveAlbum() {[m
[32m+[m[32m        val albumTitleInput = findViewById<EditText>(R.id.album_title_edit_text).text.toString()[m
[32m+[m[32m        val allAlbums = albumRepository.getAllAlbums()[m
[32m+[m[32m        val albumCount = allAlbums.size[m
[32m+[m
[32m+[m[32m        val albumTitle = if (albumTitleInput.isNotBlank()) {[m
[32m+[m[32m            albumTitleInput[m
[32m+[m[32m        } else {[m
[32m+[m[32m            if (albumCount == 0) {[m
[32m+[m[32m                "Album1"[m
[32m+[m[32m            } else {[m
[32m+[m[32m                "Album${albumCount + 1}"[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        Log.d("SelectPhotosActivity", "Album title: $albumTitle")[m
[32m+[m
[32m+[m[32m        // –ü–æ–ª—É—á–∏—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ID —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π[m
[32m+[m[32m        val selectedImageIds = photoAdapter.getSelectedPhotoIds()[m
[32m+[m[32m        Log.d("SelectPhotosActivity", "Selected image IDs: $selectedImageIds")[m
[32m+[m
[32m+[m[32m        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –∞–ª—å–±–æ–º[m
[32m+[m[32m        val album = Album([m
[32m+[m[32m            title = albumTitle,[m
[32m+[m[32m            createdAt = System.currentTimeMillis().toString(),[m
[32m+[m[32m            deviceId = Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID),[m
[32m+[m[32m            imageIds = selectedImageIds // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ID[m
[32m+[m[32m        )[m
[32m+[m
[32m+[m[32m        try {[m
[32m+[m[32m            albumRepository.insertAlbum(album)[m
[32m+[m[32m            Log.d("SelectPhotosActivity", "Album saved: $album")[m
[32m+[m
[32m+[m[32m            // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –∞–ª—å–±–æ–º–∞–º–∏[m
[32m+[m[32m            val intent = Intent(this, AlbumsActivity::class.java)[m
[32m+[m[32m            startActivity(intent)[m
[32m+[m[32m            finish()[m
[32m+[m[32m        } catch (e: Exception) {[m
[32m+[m[32m            Log.e("SelectPhotosActivity", "Error saving album", e)[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Adapters/AlbumAdapter.kt b/app/src/main/java/com/safiya/photogallery/Adapters/AlbumAdapter.kt[m
[1mindex b60b970..e0d63cb 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Adapters/AlbumAdapter.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Adapters/AlbumAdapter.kt[m
[36m@@ -22,13 +22,20 @@[m [mclass AlbumAdapter([m
 [m
         fun bind(album: Album) {[m
             // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Ä–µ—Å—É—Ä—Å–æ–≤[m
[31m-            albumImageView.setImageResource(album.imageResId)[m
[32m+[m[32m            // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ imageIds - —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π[m
[32m+[m[32m            if (album.imageIds.isNotEmpty()) {[m
[32m+[m[32m                // –ó–∞–º–µ–Ω–∏—Ç–µ 0 –Ω–∞ –Ω—É–∂–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∏–ª–∏ –ª–æ–≥–∏–∫—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è[m
[32m+[m[32m                albumImageView.setImageResource(album.imageIds[0].toInt()) // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ Int[m
[32m+[m[32m            } else {[m
[32m+[m[32m                // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–ª–∏ —Å–∫—Ä—ã—Ç—å ImageView[m
[32m+[m[32m                albumImageView.setImageResource(R.drawable.album4) // –ü—Ä–∏–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é[m
[32m+[m[32m            }[m
             albumTitleTextView.text = album.title[m
[31m-            albumDateTextView.text = album.date[m
[32m+[m[32m            albumDateTextView.text = album.createdAt[m
 [m
             // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç[m
             itemView.setOnClickListener {[m
[31m-                onAlbumClick(album) // –í—ã–∑—ã–≤–∞–µ–º –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏[m
[32m+[m[32m                onAlbumClick(album)[m
             }[m
         }[m
     }[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Adapters/FilterPhotoAdapter.kt b/app/src/main/java/com/safiya/photogallery/Adapters/FilterPhotoAdapter.kt[m
[1mindex 2cfd7ee..c118b58 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Adapters/FilterPhotoAdapter.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Adapters/FilterPhotoAdapter.kt[m
[36m@@ -1,7 +1,7 @@[m
 package com.safiya.photogallery.Adapters[m
 [m
 import com.safiya.photogallery.Photo[m
[31m-import com.safiya.photogallery.PhotoDetailActivity[m
[32m+[m[32mimport com.safiya.photogallery.Activities.PhotoDetailActivity[m
 import com.safiya.photogallery.R[m
 import android.content.Context[m
 import android.content.Intent[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Adapters/PhotoAdapter.kt b/app/src/main/java/com/safiya/photogallery/Adapters/PhotoAdapter.kt[m
[1mindex 96accab..fb1c542 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Adapters/PhotoAdapter.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Adapters/PhotoAdapter.kt[m
[36m@@ -8,6 +8,7 @@[m [mimport android.view.View[m
 import android.view.ViewGroup[m
 import android.widget.ImageView[m
 import androidx.recyclerview.widget.RecyclerView[m
[32m+[m[32mimport com.safiya.photogallery.Activities.PhotoDetailActivity[m
 [m
 class PhotoAdapter([m
     private val context: Context,[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Album.kt b/app/src/main/java/com/safiya/photogallery/Album.kt[m
[1mindex a710150..7cf2b16 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Album.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Album.kt[m
[36m@@ -3,19 +3,22 @@[m [mimport android.os.Parcelable[m
 [m
 data class Album([m
     val title: String,[m
[31m-    val date: String,[m
[31m-    val imageResId: Int // –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è[m
[32m+[m[32m    val createdAt: String,[m
[32m+[m[32m    val deviceId: String,[m
[32m+[m[32m    val imageIds: List<Long>[m
 ) : Parcelable {[m
     constructor(parcel: Parcel) : this([m
         parcel.readString() ?: "",[m
         parcel.readString() ?: "",[m
[31m-        parcel.readInt() // –ò–ª–∏ –¥—Ä—É–≥–æ–π —Ç–∏–ø, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ[m
[32m+[m[32m        parcel.readString() ?: "", // deviceId[m
[32m+[m[32m        parcel.createLongArray()?.toList() ?: emptyList() // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –º–∞—Å—Å–∏–≤ –≤ —Å–ø–∏—Å–æ–∫[m
     )[m
 [m
     override fun writeToParcel(parcel: Parcel, flags: Int) {[m
         parcel.writeString(title)[m
[31m-        parcel.writeString(date)[m
[31m-        parcel.writeInt(imageResId)[m
[32m+[m[32m        parcel.writeString(createdAt) // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è[m
[32m+[m[32m        parcel.writeString(deviceId) // –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞[m
[32m+[m[32m        parcel.writeLongArray(imageIds.toLongArray()) // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å–ø–∏—Å–æ–∫ –≤ –º–∞—Å—Å–∏–≤[m
     }[m
 [m
     override fun describeContents(): Int {[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/AlbumRepository.kt b/app/src/main/java/com/safiya/photogallery/AlbumRepository.kt[m
[1mnew file mode 100644[m
[1mindex 0000000..8df076a[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/AlbumRepository.kt[m
[36m@@ -0,0 +1,139 @@[m
[32m+[m[32mpackage com.safiya.photogallery[m
[32m+[m
[32m+[m[32mimport Album[m
[32m+[m[32mimport android.content.ContentValues[m
[32m+[m[32mimport android.database.Cursor[m
[32m+[m[32mimport android.provider.BaseColumns[m
[32m+[m[32mimport android.util.Log[m
[32m+[m[32mimport java.text.SimpleDateFormat[m
[32m+[m[32mimport java.util.Date[m
[32m+[m[32mimport java.util.Locale[m
[32m+[m
[32m+[m[32mclass AlbumRepository(private val dbHelper: FeedReaderDbHelper) {[m
[32m+[m
[32m+[m[32m    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –∏–∑ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥[m
[32m+[m[32m    private fun formatDate(timestamp: Long): String {[m
[32m+[m[32m        val date = Date(timestamp)[m
[32m+[m[32m        val format = SimpleDateFormat("dd.MM.yyyy HH:mm:ss", Locale.getDefault())[m
[32m+[m[32m        return format.format(date)[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    fun getAllAlbums(): List<Album> {[m
[32m+[m[32m        val albums = mutableListOf<Album>()[m
[32m+[m[32m        val db = dbHelper.readableDatabase[m
[32m+[m[32m        val projection = arrayOf([m
[32m+[m[32m            BaseColumns._ID,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_DEVICE_ID,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_TITLE,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_CREATED_AT,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_IMAGE_IDS[m
[32m+[m[32m        )[m
[32m+[m
[32m+[m[32m        var cursor: Cursor? = null[m
[32m+[m[32m        try {[m
[32m+[m[32m            cursor = db.query([m
[32m+[m[32m                FeedReaderContract.AlbumEntry.TABLE_NAME,[m
[32m+[m[32m                projection,[m
[32m+[m[32m                null,[m
[32m+[m[32m                null,[m
[32m+[m[32m                null,[m
[32m+[m[32m                null,[m
[32m+[m[32m                null[m
[32m+[m[32m            )[m
[32m+[m
[32m+[m[32m            if (cursor != null && cursor.moveToFirst()) {[m
[32m+[m[32m                do {[m
[32m+[m[32m                    val deviceId = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_DEVICE_ID))[m
[32m+[m[32m                    val title = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_TITLE))[m
[32m+[m[32m                    val createdAt = cursor.getLong(cursor.getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_CREATED_AT))[m
[32m+[m[32m                    val formattedDate = formatDate(createdAt) // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É[m
[32m+[m[32m                    val imageIdsString = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_IMAGE_IDS))[m
[32m+[m
[32m+[m[32m                    val imageIds = if (imageIdsString.isNotEmpty()) {[m
[32m+[m[32m                        imageIdsString.split(",").mapNotNull { it.toLongOrNull() } // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ Long[m
[32m+[m[32m                    } else {[m
[32m+[m[32m                        emptyList()[m
[32m+[m[32m                    }[m
[32m+[m
[32m+[m[32m                    albums.add(Album(title, formattedDate, deviceId, imageIds)) // –ò—Å–ø–æ–ª—å–∑—É–µ–º formattedDate[m
[32m+[m[32m                } while (cursor.moveToNext())[m
[32m+[m[32m            }[m
[32m+[m[32m        } catch (e: Exception) {[m
[32m+[m[32m            Log.e("AlbumRepository", "Error fetching albums", e)[m
[32m+[m[32m        } finally {[m
[32m+[m[32m            cursor?.close()[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        return albums[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    fun insertAlbum(album: Album) {[m
[32m+[m[32m        val db = dbHelper.writableDatabase[m
[32m+[m[32m        val values = ContentValues().apply {[m
[32m+[m[32m            put(FeedReaderContract.AlbumEntry.COLUMN_NAME_TITLE, album.title)[m
[32m+[m[32m            put(FeedReaderContract.AlbumEntry.COLUMN_NAME_CREATED_AT, System.currentTimeMillis()) // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è[m
[32m+[m[32m            put(FeedReaderContract.AlbumEntry.COLUMN_NAME_DEVICE_ID, album.deviceId)[m
[32m+[m[32m            put(FeedReaderContract.AlbumEntry.COLUMN_NAME_IMAGE_IDS, album.imageIds.joinToString(",")) // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫—É[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        try {[m
[32m+[m[32m            val newRowId = db.insert(FeedReaderContract.AlbumEntry.TABLE_NAME, null, values)[m
[32m+[m[32m            if (newRowId == -1L) {[m
[32m+[m[32m                Log.e("AlbumRepository", "Error inserting album")[m
[32m+[m[32m            } else {[m
[32m+[m[32m                Log.d("AlbumRepository", "Album inserted: ID = $newRowId, $album")[m
[32m+[m[32m            }[m
[32m+[m[32m        } catch (e: Exception) {[m
[32m+[m[32m            Log.e("AlbumRepository", "Error inserting album", e)[m
[32m+[m[32m        } finally {[m
[32m+[m[32m            db.close()[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    fun deleteAllAlbums() {[m
[32m+[m[32m        val db = dbHelper.writableDatabase[m
[32m+[m[32m        db.execSQL("DELETE FROM ${FeedReaderContract.AlbumEntry.TABLE_NAME}")[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –∞–ª—å–±–æ–º–∞[m
[32m+[m[32m    fun getPhotosForAlbum(album: Album): List<Photo> {[m
[32m+[m[32m        // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º[m
[32m+[m[32m        return album.imageIds.mapNotNull { getPhotoById(it) } // –ü–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç Photo –ø–æ ID[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    private fun getPhotoById(id: Long): Photo? {[m
[32m+[m[32m        val db = dbHelper.readableDatabase[m
[32m+[m[32m        val cursor = db.query([m
[32m+[m[32m            FeedReaderContract.PhotoEntry.TABLE_NAME,[m
[32m+[m[32m            null,[m
[32m+[m[32m            "${BaseColumns._ID} = ?",[m
[32m+[m[32m            arrayOf(id.toString()),[m
[32m+[m[32m            null,[m
[32m+[m[32m            null,[m
[32m+[m[32m            null[m
[32m+[m[32m        )[m
[32m+[m
[32m+[m[32m        return if (cursor.moveToFirst()) {[m
[32m+[m[32m            // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—É—Ä—Å–æ—Ä–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Photo[m
[32m+[m[32m            val imagePath = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH))[m
[32m+[m[32m            val deviceId = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_DEVICE_ID))[m
[32m+[m[32m            val createdAt = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_CREATED_AT))[m
[32m+[m[32m            val title = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_TITLE))[m
[32m+[m[32m            val tagsString = cursor.getString(cursor.getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_TAGS))[m
[32m+[m[32m            val tags = tagsString.split(",").toTypedArray() // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç—Ä–æ–∫—É –≤ –º–∞—Å—Å–∏–≤ —Ç–µ–≥–æ–≤[m
[32m+[m
[32m+[m[32m            Photo([m
[32m+[m[32m                id = id,[m
[32m+[m[32m                imagePath = imagePath,[m
[32m+[m[32m                deviceId = deviceId,[m
[32m+[m[32m                createdAt = createdAt,[m
[32m+[m[32m                title = title,[m
[32m+[m[32m                tags = tags // –ü–µ—Ä–µ–¥–∞–µ–º —Ç–µ–≥–∏[m
[32m+[m[32m            )[m
[32m+[m[32m        } else {[m
[32m+[m[32m            null[m
[32m+[m[32m        }.also {[m
[32m+[m[32m            cursor.close()[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/CustomPhotoAdapter.kt b/app/src/main/java/com/safiya/photogallery/CustomPhotoAdapter.kt[m
[1mnew file mode 100644[m
[1mindex 0000000..75ed387[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/CustomPhotoAdapter.kt[m
[36m@@ -0,0 +1,70 @@[m
[32m+[m[32mpackage com.safiya.photogallery[m
[32m+[m
[32m+[m[32mimport android.content.Context[m
[32m+[m[32mimport android.view.LayoutInflater[m
[32m+[m[32mimport android.view.View[m
[32m+[m[32mimport android.view.ViewGroup[m
[32m+[m[32mimport android.widget.CheckBox[m
[32m+[m[32mimport android.widget.ImageView[m
[32m+[m[32mimport androidx.recyclerview.widget.RecyclerView[m
[32m+[m[32mimport com.bumptech.glide.Glide // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Glide –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π[m
[32m+[m
[32m+[m[32mclass CustomPhotoAdapter([m
[32m+[m[32m    private val context: Context,[m
[32m+[m[32m    private var photos: MutableList<Photo>,[m
[32m+[m[32m    private val onPhotoClick: (Photo) -> Unit[m
[32m+[m[32m) : RecyclerView.Adapter<CustomPhotoAdapter.PhotoViewHolder>() {[m
[32m+[m
[32m+[m[32m    inner class PhotoViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {[m
[32m+[m[32m        private val imageView: ImageView = itemView.findViewById(R.id.photo_image_view)[m
[32m+[m[32m        private val checkBox: CheckBox = itemView.findViewById(R.id.photo_checkbox)[m
[32m+[m
[32m+[m[32m        init {[m
[32m+[m[32m            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ–∫–±–æ–∫—Å–∞[m
[32m+[m[32m            checkBox.setOnCheckedChangeListener { _, isChecked ->[m
[32m+[m[32m                photos[adapterPosition].isSelected = isChecked // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞[m
[32m+[m[32m                onPhotoClick(photos[adapterPosition]) // –í—ã–∑—ã–≤–∞–µ–º –∫–æ–ª–ª–±–µ–∫[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É[m
[32m+[m[32m            itemView.setOnClickListener {[m
[32m+[m[32m                checkBox.isChecked = !checkBox.isChecked // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞[m
[32m+[m[32m                checkBox.performClick() // –í—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ú–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º[m
[32m+[m[32m        fun bind(photo: Photo) {[m
[32m+[m[32m            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Glide[m
[32m+[m[32m            Glide.with(context)[m
[32m+[m[32m                .load(photo.imagePath) // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é[m
[32m+[m[32m                .into(imageView)[m
[32m+[m
[32m+[m[32m            checkBox.isChecked = photo.isSelected // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PhotoViewHolder {[m
[32m+[m[32m        val view = LayoutInflater.from(context).inflate(R.layout.photo_item, parent, false)[m
[32m+[m[32m        return PhotoViewHolder(view)[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    override fun onBindViewHolder(holder: PhotoViewHolder, position: Int) {[m
[32m+[m[32m        val photo = photos[position][m
[32m+[m[32m        holder.bind(photo) // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫ —ç–ª–µ–º–µ–Ω—Ç—É[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    override fun getItemCount(): Int = photos.size[m
[32m+[m
[32m+[m[32m    // –ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤[m
[32m+[m[32m    fun getSelectedPhotoIds(): List<Long> {[m
[32m+[m[32m        return photos.filter { it.isSelected }.map { it.id }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // –ú–µ—Ç–æ–¥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –∞–¥–∞–ø—Ç–µ—Ä–µ[m
[32m+[m[32m    fun updateData(newPhotoList: List<Photo>) {[m
[32m+[m[32m        photos.clear()[m
[32m+[m[32m        photos.addAll(newPhotoList)[m
[32m+[m[32m        notifyDataSetChanged()[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/FeedReaderContract.kt b/app/src/main/java/com/safiya/photogallery/FeedReaderContract.kt[m
[1mindex 66028b5..19207e2 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/FeedReaderContract.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/FeedReaderContract.kt[m
[36m@@ -12,6 +12,15 @@[m [mobject FeedReaderContract {[m
         const val COLUMN_NAME_TITLE = "title"[m
         const val COLUMN_NAME_TAGS = "tags"[m
     }[m
[32m+[m
[32m+[m[32m    object AlbumEntry : BaseColumns {[m
[32m+[m[32m        const val TABLE_NAME = "photo_albums"[m
[32m+[m
[32m+[m[32m        const val COLUMN_NAME_DEVICE_ID = "device_id"[m
[32m+[m[32m        const val COLUMN_NAME_TITLE = "title"[m
[32m+[m[32m        const val COLUMN_NAME_CREATED_AT = "created_at"[m
[32m+[m[32m        const val COLUMN_NAME_IMAGE_IDS = "image_ids" // –ú–∞—Å—Å–∏–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π[m
[32m+[m[32m    }[m
 }[m
 [m
 // SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã[m
[36m@@ -22,4 +31,12 @@[m [mprivate const val SQL_CREATE_ENTRIES =[m
             "${FeedReaderContract.PhotoEntry.COLUMN_NAME_CREATED_AT} TEXT DEFAULT CURRENT_TIMESTAMP," + // –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è[m
             "${FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH} TEXT NOT NULL," + // –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é[m
             "${FeedReaderContract.PhotoEntry.COLUMN_NAME_TITLE} TEXT," + // –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏[m
[31m-            "${FeedReaderContract.PhotoEntry.COLUMN_NAME_TAGS} TEXT);" // –¢–µ–≥–∏ (–≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏)[m
\ No newline at end of file[m
[32m+[m[32m            "${FeedReaderContract.PhotoEntry.COLUMN_NAME_TAGS} TEXT);" // –¢–µ–≥–∏ (–≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏)[m
[32m+[m
[32m+[m[32mprivate const val SQL_CREATE_ALBUMS =[m
[32m+[m[32m    "CREATE TABLE ${FeedReaderContract.AlbumEntry.TABLE_NAME} (" +[m
[32m+[m[32m            "${BaseColumns._ID} INTEGER PRIMARY KEY AUTOINCREMENT," +[m
[32m+[m[32m            "${FeedReaderContract.AlbumEntry.COLUMN_NAME_DEVICE_ID} TEXT NOT NULL," +[m
[32m+[m[32m            "${FeedReaderContract.AlbumEntry.COLUMN_NAME_TITLE} TEXT NOT NULL," +[m
[32m+[m[32m            "${FeedReaderContract.AlbumEntry.COLUMN_NAME_CREATED_AT} TEXT DEFAULT CURRENT_TIMESTAMP," +[m
[32m+[m[32m            "${FeedReaderContract.AlbumEntry.COLUMN_NAME_IMAGE_IDS} TEXT);"[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/FeedReaderDbHelper.kt b/app/src/main/java/com/safiya/photogallery/FeedReaderDbHelper.kt[m
[1mindex 83bf715..728c6be 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/FeedReaderDbHelper.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/FeedReaderDbHelper.kt[m
[36m@@ -1,5 +1,6 @@[m
 package com.safiya.photogallery[m
 [m
[32m+[m[32mimport Album[m
 import android.content.Context[m
 import android.database.sqlite.SQLiteDatabase[m
 import android.database.sqlite.SQLiteOpenHelper[m
[36m@@ -8,12 +9,14 @@[m [mimport android.provider.BaseColumns[m
 class FeedReaderDbHelper(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {[m
 [m
     override fun onCreate(db: SQLiteDatabase) {[m
[31m-        db.execSQL(SQL_CREATE_ENTRIES)[m
[32m+[m[32m        db.execSQL(SQL_CREATE_ENTRIES) // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã photos[m
[32m+[m[32m        db.execSQL(SQL_CREATE_ALBUMS) // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã photo_albums[m
     }[m
 [m
     override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {[m
[31m-        db.execSQL(SQL_DELETE_ENTRIES)[m
[31m-        onCreate(db)[m
[32m+[m[32m        db.execSQL(SQL_DELETE_ENTRIES) // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã photos[m
[32m+[m[32m        db.execSQL(SQL_DELETE_ALBUMS) // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã photo_albums[m
[32m+[m[32m        onCreate(db) // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∑–∞–Ω–æ–≤–æ[m
     }[m
 [m
     fun getAllPhotos(): List<Photo> {[m
[36m@@ -24,7 +27,7 @@[m [mclass FeedReaderDbHelper(context: Context) : SQLiteOpenHelper(context, DATABASE_[m
             BaseColumns._ID,[m
             FeedReaderContract.PhotoEntry.COLUMN_NAME_DEVICE_ID,[m
             FeedReaderContract.PhotoEntry.COLUMN_NAME_CREATED_AT,[m
[31m-            FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH, // –ò–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ imagePath[m
[32m+[m[32m            FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH,[m
             FeedReaderContract.PhotoEntry.COLUMN_NAME_TITLE,[m
             FeedReaderContract.PhotoEntry.COLUMN_NAME_TAGS[m
         )[m
[36m@@ -44,38 +47,85 @@[m [mclass FeedReaderDbHelper(context: Context) : SQLiteOpenHelper(context, DATABASE_[m
                 val id = getLong(getColumnIndexOrThrow(BaseColumns._ID))[m
                 val deviceId = getString(getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_DEVICE_ID))[m
                 val createdAt = getString(getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_CREATED_AT))[m
[31m-                val imagePath = getString(getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH)) // –ò—Å–ø–æ–ª—å–∑—É–µ–º imagePath[m
[32m+[m[32m                val imagePath = getString(getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH))[m
                 val title = getString(getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_TITLE))[m
                 val tagsString = getString(getColumnIndexOrThrow(FeedReaderContract.PhotoEntry.COLUMN_NAME_TAGS))[m
[31m-                val tags = tagsString.split(",").toTypedArray() // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç—Ä–æ–∫—É –≤ –º–∞—Å—Å–∏–≤[m
[32m+[m[32m                val tags = tagsString.split(",").toTypedArray()[m
 [m
[31m-                photos.add(Photo(id, deviceId, createdAt, imagePath, title, tags)) // –ü–µ—Ä–µ–¥–∞–µ–º imagePath[m
[32m+[m[32m                photos.add(Photo(id, deviceId, createdAt, imagePath, title, tags))[m
             }[m
         }[m
         cursor.close()[m
         return photos[m
     }[m
 [m
[32m+[m[32m    fun getAllAlbums(): List<Album> {[m
[32m+[m[32m        val albums = mutableListOf<Album>()[m
[32m+[m[32m        val db = readableDatabase[m
[32m+[m
[32m+[m[32m        val projection = arrayOf([m
[32m+[m[32m            BaseColumns._ID,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_DEVICE_ID,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_TITLE,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_CREATED_AT,[m
[32m+[m[32m            FeedReaderContract.AlbumEntry.COLUMN_NAME_IMAGE_IDS[m
[32m+[m[32m        )[m
[32m+[m
[32m+[m[32m        val cursor = db.query([m
[32m+[m[32m            FeedReaderContract.AlbumEntry.TABLE_NAME,[m
[32m+[m[32m            projection,[m
[32m+[m[32m            null, // no selection[m
[32m+[m[32m            null, // no selection args[m
[32m+[m[32m            null, // don't group the rows[m
[32m+[m[32m            null, // don't filter by row groups[m
[32m+[m[32m            null  // the sort order[m
[32m+[m[32m        )[m
[32m+[m
[32m+[m[32m        with(cursor) {[m
[32m+[m[32m            while (moveToNext()) {[m
[32m+[m[32m                val deviceId = getString(getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_DEVICE_ID))[m
[32m+[m[32m                val title = getString(getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_TITLE))[m
[32m+[m[32m                val createdAt = getString(getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_CREATED_AT))[m
[32m+[m[32m                val imageIdsString = getString(getColumnIndexOrThrow(FeedReaderContract.AlbumEntry.COLUMN_NAME_IMAGE_IDS))[m
[32m+[m[32m                val imageIds = imageIdsString.split(",").map { it.toLong() } // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç—Ä–æ–∫—É –≤ —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤[m
[32m+[m
[32m+[m[32m                albums.add(Album(title, createdAt, deviceId, imageIds)) // –ü–µ—Ä–µ–¥–∞–µ–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        cursor.close()[m
[32m+[m[32m        return albums[m
[32m+[m[32m    }[m
[32m+[m
     fun deleteAllPhotos() {[m
         val db = writableDatabase[m
         db.execSQL("DELETE FROM ${FeedReaderContract.PhotoEntry.TABLE_NAME}")[m
     }[m
 [m
     companion object {[m
[31m-        const val DATABASE_VERSION = 1[m
[32m+[m[32m        const val DATABASE_VERSION = 2[m
         const val DATABASE_NAME = "FeedReader.db"[m
 [m
[31m-        // –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ SQL[m
         private const val SQL_CREATE_ENTRIES =[m
             "CREATE TABLE ${FeedReaderContract.PhotoEntry.TABLE_NAME} (" +[m
[31m-                    "${BaseColumns._ID} INTEGER PRIMARY KEY AUTOINCREMENT," + // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä[m
[31m-                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_DEVICE_ID} TEXT NOT NULL," + // ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞[m
[31m-                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_CREATED_AT} TEXT DEFAULT CURRENT_TIMESTAMP," + // –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è[m
[31m-                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH} TEXT NOT NULL," + // –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é[m
[31m-                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_TITLE} TEXT," + // –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏[m
[31m-                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_TAGS} TEXT);" // –¢–µ–≥–∏ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏[m
[32m+[m[32m                    "${BaseColumns._ID} INTEGER PRIMARY KEY AUTOINCREMENT," +[m
[32m+[m[32m                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_DEVICE_ID} TEXT NOT NULL," +[m
[32m+[m[32m                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_CREATED_AT} TEXT DEFAULT CURRENT_TIMESTAMP," +[m
[32m+[m[32m                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_IMAGE_PATH} TEXT NOT NULL," +[m
[32m+[m[32m                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_TITLE} TEXT," +[m
[32m+[m[32m                    "${FeedReaderContract.PhotoEntry.COLUMN_NAME_TAGS} TEXT);"[m
 [m
         private const val SQL_DELETE_ENTRIES =[m
             "DROP TABLE IF EXISTS ${FeedReaderContract.PhotoEntry.TABLE_NAME}"[m
[32m+[m
[32m+[m[32m        private const val SQL_CREATE_ALBUMS =[m
[32m+[m[32m            "CREATE TABLE ${FeedReaderContract.AlbumEntry.TABLE_NAME} (" +[m
[32m+[m[32m                    "${BaseColumns._ID} INTEGER PRIMARY KEY AUTOINCREMENT," +[m
[32m+[m[32m                    "${FeedReaderContract.AlbumEntry.COLUMN_NAME_DEVICE_ID} TEXT NOT NULL," +[m
[32m+[m[32m                    "${FeedReaderContract.AlbumEntry.COLUMN_NAME_TITLE} TEXT NOT NULL," +[m
[32m+[m[32m                    "${FeedReaderContract.AlbumEntry.COLUMN_NAME_CREATED_AT} TEXT DEFAULT CURRENT_TIMESTAMP," +[m
[32m+[m[32m                    "${FeedReaderContract.AlbumEntry.COLUMN_NAME_IMAGE_IDS} TEXT);"[m
[32m+[m
[32m+[m[32m        private const val SQL_DELETE_ALBUMS =[m
[32m+[m[32m            "DROP TABLE IF EXISTS ${FeedReaderContract.AlbumEntry.TABLE_NAME}"[m
     }[m
 }[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/safiya/photogallery/Photo.kt b/app/src/main/java/com/safiya/photogallery/Photo.kt[m
[1mindex ed38733..66d4812 100644[m
[1m--- a/app/src/main/java/com/safiya/photogallery/Photo.kt[m
[1m+++ b/app/src/main/java/com/safiya/photogallery/Photo.kt[m
[36m@@ -7,9 +7,10 @@[m [mdata class Photo([m
     val id: Long,[m
     val deviceId: String,[m
     val createdAt: String,[m
[31m-    val imagePath: String, // –ò–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É[m
[32m+[m[32m    val imagePath: String,[m
     val title: String,[m
[31m-    val tags: Array<String>[m
[32m+[m[32m    val tags: Array<String>,[m
[32m+[m[32m    var isSelected: Boolean = false // –ü–æ–ª–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–±–æ—Ä–∞[m
 ) : Parcelable {[m
     constructor(parcel: Parcel) : this([m
         parcel.readLong(),[m
[1mdiff --git a/app/src/main/res/layout/activity_select_photos.xml b/app/src/main/res/layout/activity_select_photos.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..f2393ed[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/activity_select_photos.xml[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:id="@+id/main"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    android:orientation="vertical">[m
[32m+[m
[32m+[m[32m    <EditText[m
[32m+[m[32m    android:id="@+id/album_title_edit_text"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:hint="Enter album title" />[m
[32m+[m
[32m+[m[32m    <Button[m
[32m+[m[32m    android:id="@+id/save_album_button"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:text="Save Album" />[m
[32m+[m
[32m+[m[32m    <androidx.recyclerview.widget.RecyclerView[m
[32m+[m[32m    android:id="@+id/recycler_view_photos"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="0dp"[m
[32m+[m[32m    android:layout_weight="1"[m
[32m+[m[32m    android:padding="8dp" />[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/photo_item.xml b/app/src/main/res/layout/photo_item.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..6134bd2[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/photo_item.xml[m
[36m@@ -0,0 +1,24 @@[m
[32m+[m[32m<RelativeLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="100dp"[m
[32m+[m[32m    android:layout_height="wrap_content">[m
[32m+[m
[32m+[m[32m    <ImageView[m
[32m+[m[32m        android:id="@+id/photo_image_view"[m
[32m+[m[32m        android:layout_width="100dp"[m
[32m+[m[32m        android:layout_height="100dp"[m
[32m+[m[32m        android:layout_margin="5dp"[m
[32m+[m[32m        android:scaleType="centerCrop"[m
[32m+[m[32m        android:background="@drawable/rounded_corners"[m
[32m+[m[32m        android:clipToOutline="true"/>[m
[32m+[m
[32m+[m[32m    <CheckBox[m
[32m+[m[32m        android:id="@+id/photo_checkbox"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_alignParentStart="true"[m
[32m+[m[32m        android:layout_alignParentTop="true"[m
[32m+[m[32m        android:background="@android:color/transparent"[m
[32m+[m[32m        android:visibility="visible"/>[m
[32m+[m
[32m+[m[32m</RelativeLayout>[m
\ No newline at end of file[m
